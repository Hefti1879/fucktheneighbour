(function(){"use strict";var e={6275:function(e,t,s){var n=s(9963),a=s(6252),r=s.p+"img/jasskarten.c1453ca2.jpg";const l=(0,a._)("img",{alt:"Vue logo",src:r},null,-1),i={key:0};function o(e,t,s,r,o,d){const u=(0,a.up)("GameRound"),c=(0,a.up)("PlayerScores"),h=(0,a.up)("AddPlayers");return(0,a.wg)(),(0,a.iD)(a.HY,null,[l,o.round?((0,a.wg)(),(0,a.iD)("div",i,[(0,a.Wm)(u,{players:o.players,roundNo:o.round,"max-cards":o.maxCards,onFinishRound:d.handleFinishRound},null,8,["players","roundNo","max-cards","onFinishRound"]),(0,a.Wm)(c,{players:o.players},null,8,["players"]),(0,a._)("button",{class:"btn submit-btn",onClick:t[0]||(t[0]=(0,n.iM)((e=>d.restartGame()),["prevent"])),type:"button"},"Neustart")])):((0,a.wg)(),(0,a.j4)(h,{key:1,onAddPlayers:d.handleSetPlayers},null,8,["onAddPlayers"]))],64)}s(7658);var d=s(3577);const u=e=>((0,a.dD)("data-v-4f62f93d"),e=e(),(0,a.Cn)(),e),c={class:"add-players"},h=u((()=>(0,a._)("h2",{class:"add-players-title"},"Add Players",-1))),p=["id","onUpdate:modelValue"],y=["for"],m=["onClick"],f=u((()=>(0,a._)("i",{class:"material-icons"},"close",-1))),b=[f],g=u((()=>(0,a._)("span",{class:"focus-border"},null,-1))),v=u((()=>(0,a._)("button",{class:"btn submit-btn",type:"submit"},"Finish",-1)));function w(e,t,s,r,l,i){return(0,a.wg)(),(0,a.iD)("div",c,[h,(0,a._)("form",{class:"add-players-form",onSubmit:t[1]||(t[1]=(0,n.iM)(((...e)=>i.addPlayers&&i.addPlayers(...e)),["prevent"]))},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.players,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{class:"input-field",key:t},[(0,a.wy)((0,a._)("input",{id:"player-name-"+t,type:"text","onUpdate:modelValue":t=>e.name=t,required:""},null,8,p),[[n.nr,e.name]]),e.name?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("label",{key:0,for:"player-name-"+t,class:"add-players-label"},"Player "+(0,d.zw)(t+1)+":",9,y)),(0,a._)("button",{class:"remove-player-btn",onClick:(0,n.iM)((e=>i.removePlayer(t)),["prevent"])},b,8,m),g])))),128)),l.players.length<10?((0,a.wg)(),(0,a.iD)("button",{key:0,class:"btn submit-btn",type:"button",onClick:t[0]||(t[0]=(...e)=>i.addPlayer&&i.addPlayer(...e))},"Add Player")):(0,a.kq)("",!0),v],32)])}var _={name:"AddPlayers",props:{},data(){return{players:[{id:1,name:"",points:0},{id:2,name:"",points:0},{id:3,name:"",points:0}]}},methods:{addPlayer(){const e=this.players[this.players.length-1].id+1;this.players.push({id:e,name:"",points:0})},addPlayers(){this.$emit("add-players",this.players)},removePlayer(e){this.players.splice(e,1)}}},P=s(3744);const k=(0,P.Z)(_,[["render",w],["__scopeId","data-v-4f62f93d"]]);var C=k;const D=e=>((0,a.dD)("data-v-ebd140fa"),e=e(),(0,a.Cn)(),e),S=D((()=>(0,a._)("h3",null,"Stiche ansagen",-1))),x=["for"],N=["max","id","onUpdate:modelValue"],R=["onClick"],O=D((()=>(0,a._)("i",{class:"material-icons"},"add",-1))),z=[O],M=D((()=>(0,a._)("button",{class:"btn submit-btn",type:"submit"},"Runde Starten",-1))),A=D((()=>(0,a._)("h3",null,"Gemachte Stiche",-1))),j=["for"],I=["max","id","onUpdate:modelValue"],U=["onClick"],V=D((()=>(0,a._)("i",{class:"material-icons"},"add",-1))),B=[V],E=D((()=>(0,a._)("button",{class:"btn submit-btn",type:"submit"},"Nächste Runde",-1)));function F(e,t,s,r,l,i){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("h2",null,(0,d.zw)(s.roundNo)+". Runde, "+(0,d.zw)(l.cards)+" Karte(n)",1),l.betsPlaced?((0,a.wg)(),(0,a.iD)("form",{key:1,class:"game-round-form",onSubmit:t[1]||(t[1]=(0,n.iM)(((...e)=>i.finishRound&&i.finishRound(...e)),["prevent"]))},[A,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.players,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{class:"player-row",key:t},[(0,a._)("label",{for:"player-wins-"+t},(0,d.zw)(e.name)+":",9,j),(0,a.wy)((0,a._)("input",{min:0,max:l.cards,id:"player-wins-"+t,type:"number","onUpdate:modelValue":t=>e.wins=t},null,8,I),[[n.nr,e.wins]]),(0,a._)("button",{class:"increase-btn",onClick:(0,n.iM)((t=>{e.wins<l.cards&&e.wins++}),["prevent"])},B,8,U)])))),128)),E],32)):((0,a.wg)(),(0,a.iD)("form",{key:0,class:"game-round-form",onSubmit:t[0]||(t[0]=(0,n.iM)(((...e)=>i.finishBets&&i.finishBets(...e)),["prevent"]))},[S,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.players,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{class:"player-row",key:t},[(0,a._)("label",{for:"player-bets-"+t},(0,d.zw)(e.name)+":",9,x),(0,a.wy)((0,a._)("input",{min:0,max:l.cards,id:"player-bets-"+t,type:"number","onUpdate:modelValue":t=>e.bets=t},null,8,N),[[n.nr,e.bets]]),(0,a._)("button",{class:"increase-btn",onClick:(0,n.iM)((t=>{e.bets<l.cards&&e.bets++}),["prevent"])},z,8,R)])))),128)),M],32))],64)}var G={name:"GameRound",props:{players:Array,roundNo:Number,maxCards:Number},emits:["finishRound"],data(){return{cards:1,betsPlaced:!1}},created:function(){this.resetBets(),this.calculateCards(this.roundNo)},methods:{calculateCards(e){this.cards=this.maxCards-Math.abs((e-1-2*(this.maxCards-1)*Math.floor((e-2)/2/(this.maxCards-1)))%(2*this.maxCards-1)-this.maxCards+1)},resetBets(){this.players.forEach((e=>{e.bets=0,e.wins=0}))},finishBets(){console.log(this.players);let e=0;this.players.forEach((t=>{e+=t.bets})),e!=this.cards?this.betsPlaced=!0:alert("Ungültige Anzahl angesagter Stiche")},finishRound(){let e=0;if(this.players.forEach((t=>{e+=t.wins})),e!=this.cards)return void alert("Es sind zu viele/zu wenige Stiche eingetragen");let t={players:this.players,roundNo:this.roundNo};this.$emit("finish-round",t),this.startRound()},startRound(){this.resetBets(),this.calculateCards(this.roundNo+1),this.betsPlaced=!1}}};const H=(0,P.Z)(G,[["render",F],["__scopeId","data-v-ebd140fa"]]);var Y=H;const K=e=>((0,a.dD)("data-v-7bd49935"),e=e(),(0,a.Cn)(),e),q={class:"container"},J=K((()=>(0,a._)("h3",{class:"center-align"},"Player Scores",-1))),Z=K((()=>(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"Player Name"),(0,a._)("th",{class:"l"},"Score")])],-1))),T={class:"l"};function W(e,t,s,n,r,l){return(0,a.wg)(),(0,a.iD)("div",q,[J,(0,a._)("table",null,[Z,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.sortedPlayers(),((e,t)=>((0,a.wg)(),(0,a.iD)("tr",{key:t},[(0,a._)("td",null,(0,d.zw)(e.name),1),(0,a._)("td",T,(0,d.zw)(e.points),1)])))),128))])])])}var $={props:{players:{type:Array,required:!0}},methods:{sortedPlayers(){let e=this.players;return e.sort(((e,t)=>t.score-e.score))}}};const L=(0,P.Z)($,[["render",W],["__scopeId","data-v-7bd49935"]]);var Q=L,X={name:"App",components:{AddPlayers:C,GameRound:Y,PlayerScores:Q},data(){return{players:[],round:0,maxCards:0,rounds:[]}},created:function(){let e=localStorage.getItem("players"),t=JSON.parse(e);null!=t&&t.length&&(this.players=t,this.rounds=JSON.parse(localStorage.getItem("rounds")),this.round=this.rounds.length+1,this.maxCards=Math.floor(36/this.players.length))},methods:{restartGame(){confirm("Spielstand zurücksetzen?")&&(this.round=0,this.rounds=[])},handleSetPlayers(e){this.players=e,console.log(e),this.round=1,this.maxCards=Math.floor(36/this.players.length),this.saveData()},handleFinishRound(e){this.rounds.push(e),this.round=this.rounds.length+1,e.players.forEach((e=>{this.players.find((t=>t.id==e.id)).points+=this.calculatePoints(e)})),console.log(this.players),this.saveData()},saveData(){let e=JSON.stringify(this.players);localStorage.setItem("players",e);let t=JSON.stringify(this.rounds);localStorage.setItem("rounds",t)},calculatePoints(e){let t=e.bets,s=e.wins;return t==s?0==t?1:10*t:-10*Math.abs(t-s)}}};const ee=(0,P.Z)(X,[["render",o]]);var te=ee;(0,n.ri)(te).mount("#app")}},t={};function s(n){var a=t[n];if(void 0!==a)return a.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,s),r.exports}s.m=e,function(){var e=[];s.O=function(t,n,a,r){if(!n){var l=1/0;for(u=0;u<e.length;u++){n=e[u][0],a=e[u][1],r=e[u][2];for(var i=!0,o=0;o<n.length;o++)(!1&r||l>=r)&&Object.keys(s.O).every((function(e){return s.O[e](n[o])}))?n.splice(o--,1):(i=!1,r<l&&(l=r));if(i){e.splice(u--,1);var d=a();void 0!==d&&(t=d)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[n,a,r]}}(),function(){s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.p="/fucktheneighbour/"}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,r,l=n[0],i=n[1],o=n[2],d=0;if(l.some((function(t){return 0!==e[t]}))){for(a in i)s.o(i,a)&&(s.m[a]=i[a]);if(o)var u=o(s)}for(t&&t(n);d<l.length;d++)r=l[d],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(u)},n=self["webpackChunkfucktheneighbour"]=self["webpackChunkfucktheneighbour"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=s.O(void 0,[998],(function(){return s(6275)}));n=s.O(n)})();
//# sourceMappingURL=app.10c45cb8.js.map