(function(){"use strict";var e={4899:function(e,t,s){var n=s(9963),r=s(6252),a=s.p+"img/jasskarten.c1453ca2.jpg";const o=(0,r._)("img",{alt:"Vue logo",src:a},null,-1),i={key:0};function l(e,t,s,a,l,d){const u=(0,r.up)("GameRound"),c=(0,r.up)("PlayerScores"),h=(0,r.up)("AddPlayers");return(0,r.wg)(),(0,r.iD)(r.HY,null,[o,l.round?((0,r.wg)(),(0,r.iD)("div",i,[(0,r.Wm)(u,{players:l.players,roundNo:l.round,"max-cards":l.maxCards,onRedoRound:d.redoRound,onUndoRound:d.undoRound,onFinishRound:d.handleFinishRound},null,8,["players","roundNo","max-cards","onRedoRound","onUndoRound","onFinishRound"]),(0,r.Wm)(c,{players:l.players},null,8,["players"]),(0,r._)("button",{class:"btn submit-btn",onClick:t[0]||(t[0]=(0,n.iM)((e=>d.restartGame()),["prevent"])),type:"button"},"Neustart")])):((0,r.wg)(),(0,r.j4)(h,{key:1,onAddPlayers:d.handleSetPlayers},null,8,["onAddPlayers"]))],64)}s(7658);var d=s(3577);const u=e=>((0,r.dD)("data-v-4f62f93d"),e=e(),(0,r.Cn)(),e),c={class:"add-players"},h=u((()=>(0,r._)("h2",{class:"add-players-title"},"Add Players",-1))),p=["id","onUpdate:modelValue"],y=["for"],m=["onClick"],f=u((()=>(0,r._)("i",{class:"material-icons"},"close",-1))),b=[f],g=u((()=>(0,r._)("span",{class:"focus-border"},null,-1))),v=u((()=>(0,r._)("button",{class:"btn submit-btn",type:"submit"},"Finish",-1)));function w(e,t,s,a,o,i){return(0,r.wg)(),(0,r.iD)("div",c,[h,(0,r._)("form",{class:"add-players-form",onSubmit:t[1]||(t[1]=(0,n.iM)(((...e)=>i.addPlayers&&i.addPlayers(...e)),["prevent"]))},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.players,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{class:"input-field",key:t},[(0,r.wy)((0,r._)("input",{id:"player-name-"+t,type:"text","onUpdate:modelValue":t=>e.name=t,required:""},null,8,p),[[n.nr,e.name]]),e.name?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("label",{key:0,for:"player-name-"+t,class:"add-players-label"},"Player "+(0,d.zw)(t+1)+":",9,y)),(0,r._)("button",{class:"remove-player-btn",onClick:(0,n.iM)((e=>i.removePlayer(t)),["prevent"])},b,8,m),g])))),128)),o.players.length<10?((0,r.wg)(),(0,r.iD)("button",{key:0,class:"btn submit-btn",type:"button",onClick:t[0]||(t[0]=(...e)=>i.addPlayer&&i.addPlayer(...e))},"Add Player")):(0,r.kq)("",!0),v],32)])}var _={name:"AddPlayers",props:{},data(){return{players:[{id:1,name:"",points:0},{id:2,name:"",points:0},{id:3,name:"",points:0}]}},methods:{addPlayer(){const e=this.players[this.players.length-1].id+1;this.players.push({id:e,name:"",points:0})},addPlayers(){this.$emit("add-players",this.players)},removePlayer(e){this.players.splice(e,1)}}},P=s(3744);const R=(0,P.Z)(_,[["render",w],["__scopeId","data-v-4f62f93d"]]);var k=R;const C=e=>((0,r.dD)("data-v-79702dd8"),e=e(),(0,r.Cn)(),e),S=C((()=>(0,r._)("i",{class:"material-icons"},"undo",-1))),D=C((()=>(0,r._)("h2",null,"Stiche ansagen",-1))),x=["for"],N=["max","id","onUpdate:modelValue"],O=["onClick"],z=C((()=>(0,r._)("i",{class:"material-icons"},"add",-1))),M=[z],A=C((()=>(0,r._)("button",{class:"btn submit-btn",type:"submit"},"Runde Starten",-1))),U=C((()=>(0,r._)("h2",null,"Gemachte Stiche",-1))),j=["for"],I=["max","id","onUpdate:modelValue"],B=["onClick"],E=C((()=>(0,r._)("i",{class:"material-icons"},"add",-1))),F=[E],V=C((()=>(0,r._)("button",{class:"btn submit-btn",type:"submit"},"Nächste Runde",-1)));function G(e,t,s,a,o,i){return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("h2",null,(0,d.zw)(s.roundNo)+". Runde, "+(0,d.zw)(o.cards)+" Karte(n)",1),(0,r._)("button",{class:"undo-btn",onClick:t[0]||(t[0]=(0,n.iM)((e=>{(s.roundNo>1||o.betsPlaced)&&i.undo()}),["prevent"]))},[S,(0,r.Uk)(" Zurück ")]),o.betsPlaced?((0,r.wg)(),(0,r.iD)("form",{key:1,class:"game-round-form",onSubmit:t[2]||(t[2]=(0,n.iM)(((...e)=>i.finishRound&&i.finishRound(...e)),["prevent"]))},[U,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(s.players,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{class:"player-row",key:t},[(0,r._)("label",{for:"player-wins-"+t},(0,d.zw)(e.name)+":",9,j),(0,r.wy)((0,r._)("input",{min:0,max:o.cards,id:"player-wins-"+t,type:"number","onUpdate:modelValue":t=>e.wins=t},null,8,I),[[n.nr,e.wins]]),(0,r._)("button",{class:"increase-btn",onClick:(0,n.iM)((t=>{e.wins<o.cards&&e.wins++}),["prevent"])},F,8,B)])))),128)),V],32)):((0,r.wg)(),(0,r.iD)("form",{key:0,class:"game-round-form",onSubmit:t[1]||(t[1]=(0,n.iM)(((...e)=>i.finishBets&&i.finishBets(...e)),["prevent"]))},[D,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(s.players,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{class:"player-row",key:t},[(0,r._)("label",{for:"player-bets-"+t},(0,d.zw)(e.name)+":",9,x),(0,r.wy)((0,r._)("input",{min:0,max:o.cards,id:"player-bets-"+t,type:"number","onUpdate:modelValue":t=>e.bets=t},null,8,N),[[n.nr,e.bets]]),(0,r._)("button",{class:"increase-btn",onClick:(0,n.iM)((t=>{e.bets<o.cards&&e.bets++}),["prevent"])},M,8,O)])))),128)),A],32))],64)}var H={name:"GameRound",props:{players:Array,roundNo:Number,maxCards:Number},emits:["finishRound","undoRound","redoRound"],data(){return{cards:1,betsPlaced:!1}},created:function(){this.resetBets(),this.calculateCards(this.roundNo)},methods:{calculateCards(e){this.cards=this.maxCards-Math.abs((e-1-2*(this.maxCards-1)*Math.floor((e-2)/2/(this.maxCards-1)))%(2*this.maxCards-1)-this.maxCards+1)},resetBets(){this.players.forEach((e=>{e.bets=0,e.wins=0}))},finishBets(){console.log(this.players);let e=0;this.players.forEach((t=>{e+=t.bets})),e!=this.cards?this.betsPlaced=!0:alert("Ungültige Anzahl angesagter Stiche")},undo(){confirm("Spielrunde/gesetzte Stiche rückgängig machen?")&&(this.betsPlaced?this.betsPlaced=!1:(this.$emit("undo-round"),this.resetBets(),this.calculateCards(this.roundNo-1)))},redo(){this.$emit("redo-round")},finishRound(){let e=0;if(this.players.forEach((t=>{e+=t.wins})),e!=this.cards)return void alert("Es sind zu viele/zu wenige Stiche eingetragen");let t={players:this.players,roundNo:this.roundNo};this.$emit("finish-round",t),this.startRound()},startRound(){this.resetBets(),this.calculateCards(this.roundNo+1),this.betsPlaced=!1}}};const Y=(0,P.Z)(H,[["render",G],["__scopeId","data-v-79702dd8"]]);var J=Y;const K=e=>((0,r.dD)("data-v-7f73ebdf"),e=e(),(0,r.Cn)(),e),Z={class:"container"},q=K((()=>(0,r._)("h3",{class:"center-align"},"Player Scores",-1))),$=K((()=>(0,r._)("thead",null,[(0,r._)("tr",null,[(0,r._)("th",null,"Player Name"),(0,r._)("th",{class:"l"},"Score")])],-1))),T={class:"l"};function W(e,t,s,n,a,o){return(0,r.wg)(),(0,r.iD)("div",Z,[q,(0,r._)("table",null,[$,(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.sortedPlayers(),((e,t)=>((0,r.wg)(),(0,r.iD)("tr",{key:t},[(0,r._)("td",null,(0,d.zw)(e.name),1),(0,r._)("td",T,(0,d.zw)(e.points),1)])))),128))])])])}var L={props:{players:{type:Array,required:!0}},methods:{sortedPlayers(){let e=[...this.players];return e.sort(((e,t)=>t.points-e.points))}}};const Q=(0,P.Z)(L,[["render",W],["__scopeId","data-v-7f73ebdf"]]);var X=Q,ee={name:"App",components:{AddPlayers:k,GameRound:J,PlayerScores:X},data(){return{players:[],round:0,maxCards:0,rounds:[],resetRounds:[]}},created:function(){let e=localStorage.getItem("players"),t=JSON.parse(e);null!=t&&t.length&&(this.players=t,this.rounds=JSON.parse(localStorage.getItem("rounds")),this.round=this.rounds.length+1,this.maxCards=Math.floor(36/this.players.length))},methods:{restartGame(){confirm("Spielstand zurücksetzen?")&&(this.round=0,this.rounds=[])},handleSetPlayers(e){this.players=e,this.round=1,this.maxCards=Math.floor(36/this.players.length),this.saveData()},handleFinishRound(e){this.resetRounds.length>0&&this.resetRounds.pop(),this.rounds.push(e),this.round=this.rounds.length+1,e.players.forEach((e=>{this.players.find((t=>t.id==e.id)).points+=this.calculatePoints(e)})),console.log(this.players),this.saveData()},saveData(){let e=JSON.stringify(this.players);localStorage.setItem("players",e);let t=JSON.stringify(this.rounds);localStorage.setItem("rounds",t)},calculatePoints(e){let t=e.bets,s=e.wins;return t==s?0==t?1:10*t:-10*Math.abs(t-s)},undoRound(){let e=JSON.parse(localStorage.getItem("rounds"));if(this.rounds.length<1)return;this.round--,this.rounds.pop();let t=e.pop();console.log(t),this.resetRounds.push(t),t.players.forEach((e=>{let t=this.calculatePoints(e);console.log(e.bets),this.players.find((t=>t.id==e.id)).points-=t})),this.saveData()},redoRound(){this.resetRounds.length<1||this.handleFinishRound(this.resetRounds.pop())}}};const te=(0,P.Z)(ee,[["render",l]]);var se=te;(0,n.ri)(se).mount("#app")}},t={};function s(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,s),a.exports}s.m=e,function(){var e=[];s.O=function(t,n,r,a){if(!n){var o=1/0;for(u=0;u<e.length;u++){n=e[u][0],r=e[u][1],a=e[u][2];for(var i=!0,l=0;l<n.length;l++)(!1&a||o>=a)&&Object.keys(s.O).every((function(e){return s.O[e](n[l])}))?n.splice(l--,1):(i=!1,a<o&&(o=a));if(i){e.splice(u--,1);var d=r();void 0!==d&&(t=d)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[n,r,a]}}(),function(){s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.p="/fucktheneighbour/"}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,a,o=n[0],i=n[1],l=n[2],d=0;if(o.some((function(t){return 0!==e[t]}))){for(r in i)s.o(i,r)&&(s.m[r]=i[r]);if(l)var u=l(s)}for(t&&t(n);d<o.length;d++)a=o[d],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(u)},n=self["webpackChunkfucktheneighbour"]=self["webpackChunkfucktheneighbour"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=s.O(void 0,[998],(function(){return s(4899)}));n=s.O(n)})();
//# sourceMappingURL=app.141c78ac.js.map